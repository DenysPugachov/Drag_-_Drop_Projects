!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t,r){return{configurable:!0,get(){return r.value.bind(this)}}}var i;r.r(t),function(e){e[e.Active=0]="Active",e[e.Finished=1]="Finished"}(i||(i={}));class s{constructor(e,t,r,n,i){this.id=e,this.title=t,this.description=r,this.numberOfPeople=n,this.status=i}}class l extends class{constructor(){this.listenersArrFn=[]}addListener(e){this.listenersArrFn.push(e)}}{constructor(){super(),this.projectsArr=[]}static getInstance(){return this.instance||(this.instance=new l),this.instance}addProject(e,t,r){const n=new s(Math.random().toString(),e,t,r,i.Active);this.projectsArr.push(n),this.updateListeners()}switchProjectStatus(e,t){const r=this.projectsArr.find(t=>t.id===e);r&&r.status!==t&&(r.status=t),this.updateListeners()}updateListeners(){for(const e of this.listenersArrFn)e(this.projectsArr.slice())}}const o=l.getInstance();function a(e){let t=!0;return e.required&&(t=t&&0!==e.value.toString().trim().length),null!=e.minLengthString&&"string"==typeof e.value&&(t=t&&e.value.length>=e.minLengthString),null!=e.maxLengthString&&"string"==typeof e.value&&(t=t&&e.value.length<=e.maxLengthString),null!=e.minNumber&&"number"==typeof e.minNumber&&(t=t&&e.value>=e.minNumber),null!=e.maxNumber&&"number"==typeof e.maxNumber&&(t=t&&e.value<=e.maxNumber),t}class u{constructor(e,t,r,n){this.templateEl=document.getElementById(e),this.hostEl=document.getElementById(t);const i=document.importNode(this.templateEl.content,!0);this.element=i.firstElementChild,n&&(this.element.id=n),this.attachEl(r)}attachEl(e){this.hostEl.insertAdjacentElement(e?"afterbegin":"beforeend",this.element)}}var c=function(e,t,r,n){var i,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l};class d extends u{constructor(){super("project-input","app",!0,"user-input"),this.titleInputEl=this.element.querySelector("#title"),this.peopleInputEl=this.element.querySelector("#people"),this.descriptionInputEl=this.element.querySelector("#description"),this.configure()}configure(){this.element.addEventListener("submit",this.submitHandler)}renderContent(){}gatherUserInput(){const e=this.titleInputEl.value,t=this.descriptionInputEl.value,r=this.peopleInputEl.value,n={value:t,required:!0,minLengthString:4},i={value:r,required:!0,minNumber:1,maxNumber:5};return a({value:e,required:!0,minLengthString:4})&&a(n)&&a(i)?(this.clearInputs(),[e,t,+r]):void alert("Invalid input, please try again.")}clearInputs(){this.titleInputEl.value="",this.descriptionInputEl.value="",this.peopleInputEl.value=""}submitHandler(e){e.preventDefault();const t=this.gatherUserInput();if(Array.isArray(t)){const[e,r,n]=t;o.addProject(e,r,n)}}}c([n],d.prototype,"submitHandler",null);var p=function(e,t,r,n){var i,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l};class h extends u{constructor(e,t){super("single-project",e,!1,t.id),this.project=t,this.configure(),this.renderContent()}get numberOfPerson(){return 1===this.project.numberOfPeople?"1 person":this.project.numberOfPeople+" persons"}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id)}dragEndHandler(e){console.log("Item dropped!")}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)}renderContent(){this.element.querySelector("h2").textContent=this.project.title,this.element.querySelector("h3").textContent=this.numberOfPerson+" assigned",this.element.querySelector("p").textContent=this.project.description}}p([n],h.prototype,"dragStartHandler",null);var f=function(e,t,r,n){var i,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(s<3?i(l):s>3?i(t,r,l):i(t,r))||l);return s>3&&l&&Object.defineProperty(t,r,l),l};class m extends u{constructor(e){super("project-list","app",!1,e+"-projects"),this.ulType=e,this.assignedProjects=[],this.configure(),this.renderContent()}renderProjects(){document.getElementById(this.ulType+"-project-list").innerHTML="";for(const e of this.assignedProjects)new h(this.element.querySelector("ul").id,e)}dragOverHandler(e){if(e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]){e.preventDefault();this.element.querySelector("ul").classList.add("droppable")}}dropHandler(e){const t=e.dataTransfer.getData("text/plain");o.switchProjectStatus(t,"active"===this.ulType?i.Active:i.Finished)}dragLeaveHandler(e){this.element.querySelector("ul").classList.remove("droppable")}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("drop",this.dropHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),o.addListener(e=>{this.assignedProjects=e.filter(e=>"active"===this.ulType?e.status===i.Active:e.status===i.Finished),this.renderProjects()})}renderContent(){const e=this.ulType+"-project-list";this.element.querySelector("ul").id=e,this.element.querySelector("h2").textContent=this.ulType.toUpperCase()+" PROJECTS"}}f([n],m.prototype,"dragOverHandler",null),f([n],m.prototype,"dropHandler",null),f([n],m.prototype,"dragLeaveHandler",null),new d,new m("active"),new m("finished")}]);